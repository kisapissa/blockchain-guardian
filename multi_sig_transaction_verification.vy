// Enhance smart contract compatibility
// Refactor contract event emission
